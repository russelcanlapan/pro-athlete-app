<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Details</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen">
    <!-- Header -->
    <div class="sticky top-0 bg-white z-10 shadow-sm py-4 px-6 flex items-center justify-between">
        <button onclick="goBack()" class="text-gray-600 hover:text-gray-900">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
        </button>
        <h1 class="text-xl font-semibold text-gray-900">Team XXX</h1>
        <button onclick="showTeamMenu()" class="text-gray-600 hover:text-gray-900">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path>
            </svg>
        </button>
    </div>

    <!-- Main Content -->
    <div class="px-6 py-8 max-w-4xl mx-auto pb-32">
        <!-- Team Info -->
        <div class="bg-white rounded-xl p-6 mb-6 shadow-sm">
            <div class="space-y-3">
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-500">Coach:</span>
                    <span class="font-medium text-gray-900">John Brown</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-500">Level:</span>
                    <span class="font-medium text-gray-900">Intermediate</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-500">Sport:</span>
                    <span class="font-medium text-gray-900">Women's Basketball</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-500">Average Age:</span>
                    <span class="font-medium text-gray-900">16</span>
                </div>
            </div>
        </div>

        <!-- Members Section -->
        <div class="bg-white rounded-xl p-6 shadow-sm">
            <div class="flex items-center justify-between mb-4 cursor-pointer" onclick="toggleMembers()">
                <h2 class="text-lg font-semibold text-gray-900">Members (11)</h2>
                <svg id="membersArrow" class="w-5 h-5 text-gray-400 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path>
                </svg>
            </div>
            
            <div id="membersList" class="space-y-4">
                <!-- Member Grid -->
                <div class="grid grid-cols-3 gap-4">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-2">
                            <span class="text-white text-sm font-semibold">JB</span>
                        </div>
                        <p class="text-xs text-gray-600 font-medium">John Brown</p>
                        <p class="text-xs text-gray-500">Coach</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-2">
                            <span class="text-gray-600 text-sm font-semibold">SZ</span>
                        </div>
                        <p class="text-xs text-gray-600 font-medium">Scarlett Zhang</p>
                        <p class="text-xs text-gray-500">Guard</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-2">
                            <span class="text-gray-600 text-sm font-semibold">MJ</span>
                        </div>
                        <p class="text-xs text-gray-600 font-medium">Maria Johnson</p>
                        <p class="text-xs text-gray-500">Forward</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-2">
                            <span class="text-gray-600 text-sm font-semibold">AS</span>
                        </div>
                        <p class="text-xs text-gray-600 font-medium">Alex Smith</p>
                        <p class="text-xs text-gray-500">Center</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-2">
                            <span class="text-gray-600 text-sm font-semibold">KW</span>
                        </div>
                        <p class="text-xs text-gray-600 font-medium">Katie Wilson</p>
                        <p class="text-xs text-gray-500">Guard</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-2">
                            <span class="text-gray-600 text-sm font-semibold">LD</span>
                        </div>
                        <p class="text-xs text-gray-600 font-medium">Lisa Davis</p>
                        <p class="text-xs text-gray-500">Forward</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-2">
                            <span class="text-gray-600 text-sm font-semibold">RM</span>
                        </div>
                        <p class="text-xs text-gray-600 font-medium">Rachel Miller</p>
                        <p class="text-xs text-gray-500">Guard</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-2">
                            <span class="text-gray-600 text-sm font-semibold">TG</span>
                        </div>
                        <p class="text-xs text-gray-600 font-medium">Taylor Garcia</p>
                        <p class="text-xs text-gray-500">Center</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-2">
                            <span class="text-gray-600 text-sm font-semibold">CL</span>
                        </div>
                        <p class="text-xs text-gray-600 font-medium">Casey Lee</p>
                        <p class="text-xs text-gray-500">Forward</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-2">
                            <span class="text-gray-600 text-sm font-semibold">JP</span>
                        </div>
                        <p class="text-xs text-gray-600 font-medium">Jordan Park</p>
                        <p class="text-xs text-gray-500">Guard</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-2">
                            <span class="text-gray-600 text-sm font-semibold">AM</span>
                        </div>
                        <p class="text-xs text-gray-600 font-medium">Ashley Moore</p>
                        <p class="text-xs text-gray-500">Forward</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg">
        <div class="flex justify-around py-3">
            <a href="home.html" class="flex flex-col items-center text-gray-500 hover:text-gray-700">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m0 0l-7 7m7-7v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
                <span class="text-xs mt-1">Home</span>
            </a>
            <a href="tracking.html" class="flex flex-col items-center text-gray-500 hover:text-gray-700">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
                <span class="text-xs mt-1">Tracking</span>
            </a>
            <a href="profile.html" class="flex flex-col items-center text-gray-500 hover:text-gray-700">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                <span class="text-xs mt-1">Profile</span>
            </a>
        </div>
    </div>

    <script>
                 function goBack() {
             window.location.href = 'profile.html';
         }

                         function showTeamMenu() {
            // Get current team ID and user data to check favorite status
            const currentTeamId = sessionStorage.getItem('currentTeamId');
            const userData = JSON.parse(sessionStorage.getItem('athleteUserData') || '{}');
            const isFavorited = userData.favorites && userData.favorites.includes(currentTeamId);
            
            // Create dropdown menu
            const menu = document.createElement('div');
            menu.className = 'absolute right-6 top-16 bg-blue-600 rounded-lg shadow-lg z-20';
            menu.innerHTML = `
                <div class="p-2">
                    <button onclick="toggleFavorite()" class="flex items-center space-x-2 w-full text-left px-4 py-2 text-white hover:bg-blue-700 rounded text-sm">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
                        </svg>
                        <span id="favoriteText">${isFavorited ? 'Remove from Favorites' : 'Add to Favorites'}</span>
                    </button>
                    <button onclick="deleteTeam()" class="flex items-center space-x-2 w-full text-left px-4 py-2 text-white hover:bg-blue-700 rounded text-sm">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                        </svg>
                        <span>Delete</span>
                    </button>
                </div>
            `;
            
            // Remove existing menu if any
            const existingMenu = document.querySelector('.absolute.right-6.top-16');
            if (existingMenu) {
                existingMenu.remove();
            }
            
            document.body.appendChild(menu);
            
            // Close menu when clicking outside
            setTimeout(() => {
                document.addEventListener('click', function closeMenu(e) {
                    if (!menu.contains(e.target) && !e.target.closest('button[onclick="showTeamMenu()"]')) {
                        menu.remove();
                        document.removeEventListener('click', closeMenu);
                    }
                });
            }, 100);
        }

         function deleteTeam() {
             // Remove the menu
             const menu = document.querySelector('.absolute.right-6.top-16');
             if (menu) {
                 menu.remove();
             }
             
             // Show confirmation modal
             showDeleteConfirmationModal();
         }

         function showDeleteConfirmationModal() {
             const modal = document.createElement('div');
             modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
             modal.innerHTML = `
                 <div class="bg-white rounded-xl p-6 mx-4 max-w-sm w-full">
                     <h3 class="text-lg font-semibold text-gray-900 mb-2">Confirmation</h3>
                     <p class="text-gray-600 mb-6">Are you sure you want to leave team XXX?</p>
                     <div class="flex space-x-3">
                         <button onclick="closeDeleteModal()" class="flex-1 px-4 py-2 text-gray-600 font-medium">Cancel</button>
                         <button onclick="confirmDeleteTeam()" class="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium">Yes</button>
                     </div>
                 </div>
             `;
             document.body.appendChild(modal);
         }

         function closeDeleteModal() {
             const modal = document.querySelector('.fixed.inset-0');
             if (modal) {
                 modal.remove();
             }
         }

                   function confirmDeleteTeam() {
              closeDeleteModal();
              // Remove team from session storage
              const userData = JSON.parse(sessionStorage.getItem('athleteUserData') || '{}');
              const currentTeamId = sessionStorage.getItem('currentTeamId');
              if (userData.teams && userData.teams.length > 0) {
                  userData.teams = userData.teams.filter(team => team.id !== currentTeamId);
                  sessionStorage.setItem('athleteUserData', JSON.stringify(userData));
              }
              // Navigate back to program detail page
              window.location.href = 'program-detail.html';
          }

         function toggleFavorite() {
             // Remove the menu
             const menu = document.querySelector('.absolute.right-6.top-16');
             if (menu) {
                 menu.remove();
             }
             
             // Get current team ID and user data
             const currentTeamId = sessionStorage.getItem('currentTeamId');
             const userData = JSON.parse(sessionStorage.getItem('athleteUserData') || '{}');
             
             // Initialize favorites if not exists
             if (!userData.favorites) {
                 userData.favorites = [];
             }
             
             // Check if team is already favorited
             const isFavorited = userData.favorites.includes(currentTeamId);
             
             if (isFavorited) {
                 // Remove from favorites
                 userData.favorites = userData.favorites.filter(id => id !== currentTeamId);
                 showFavoriteNotification('Removed from favorites');
             } else {
                 // Add to favorites
                 userData.favorites.push(currentTeamId);
                 showFavoriteNotification('Added to favorites');
             }
             
             // Save updated user data
             sessionStorage.setItem('athleteUserData', JSON.stringify(userData));
         }

         function showFavoriteNotification(message) {
             const notification = document.createElement('div');
             const isRemoved = message.includes('Removed');
             notification.className = `fixed top-20 left-1/2 transform -translate-x-1/2 ${isRemoved ? 'bg-red-500' : 'bg-green-500'} text-white px-4 py-2 rounded-lg shadow-lg z-50`;
             notification.textContent = message;
             document.body.appendChild(notification);
             
             // Remove notification after 2 seconds
             setTimeout(() => {
                 notification.remove();
             }, 2000);
         }

        function toggleMembers() {
            const membersList = document.getElementById('membersList');
            const arrow = document.getElementById('membersArrow');
            
            if (membersList.classList.contains('hidden')) {
                membersList.classList.remove('hidden');
                arrow.style.transform = 'rotate(0deg)';
            } else {
                membersList.classList.add('hidden');
                arrow.style.transform = 'rotate(180deg)';
            }
        }
    </script>
</body>
</html>
