<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Registration Success Coach [...] / How your free trial works</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        .selected {
            border-color: #2563eb !important;
            background-color: #eff6ff !important;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-50">
    <div class="min-h-screen flex items-center justify-center">
        <div class="w-full max-w-md mx-auto px-6 py-8">
            <!-- Back Button -->
            <div class="mb-6">
                <button onclick="goBack()" 
                        class="flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                    <span>Back</span>
                </button>
            </div>
            
            <!-- Main Content -->
            <main class="mb-8">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">How your free trial works</h2>
                </div>

                <!-- Trial Steps -->
                <div class="space-y-6">
                    <!-- Today -->
                    <div class="flex items-start space-x-4">
                        <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0">
                            <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                                <line x1="16" y1="2" x2="16" y2="6" stroke="currentColor" stroke-width="2"/>
                                <line x1="8" y1="2" x2="8" y2="6" stroke="currentColor" stroke-width="2"/>
                                <line x1="3" y1="10" x2="21" y2="10" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900 mb-1">Today</h3>
                            <p class="text-sm text-gray-600">Get instant, free access and see how PRO ATHLETE can improve your performance.</p>
                        </div>
                    </div>

                    <!-- Day 7 -->
                    <div class="flex items-start space-x-4">
                        <div class="w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0">
                            <svg class="w-5 h-5 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path d="M15 17h5l-5 5v-5z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M9 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h5l5-5V9a2 2 0 0 0-2-2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900 mb-1">Day 7</h3>
                            <p class="text-sm text-gray-600">We'll remind you with a notification that your trial is ending soon.</p>
                        </div>
                    </div>

                    <!-- Day 14 -->
                    <div class="flex items-start space-x-4">
                        <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0">
                            <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <line x1="16" y1="13" x2="8" y2="13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <line x1="16" y1="17" x2="8" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <polyline points="10,9 9,9 8,9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900 mb-1">Day 14</h3>
                            <p class="text-sm text-gray-600">Your subscription will begin so cancel before the day to avoid payment.</p>
                        </div>
                    </div>
                </div>

                <!-- Pricing -->
                <div class="mt-8 p-4 bg-gray-50 rounded-lg">
                    <div class="text-center">
                        <p class="text-lg font-semibold text-gray-900">14 days free, then $129.99 per year</p>
                        <p class="text-sm text-gray-600">That's only $10.83/month, billed annually</p>
                    </div>
                </div>
            </main>

            <!-- Footer -->
            <footer class="mt-8 space-y-4">
                <button onclick="startTrial()" 
                        class="w-full bg-blue-600 text-white font-medium py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
                        aria-label="Start trial and subscribe">
                    Start trial and subscribe
                </button>
                
                <button onclick="seeAllPlans()" 
                        class="w-full text-blue-600 font-medium py-2 px-6 hover:bg-blue-50 rounded-lg transition-colors"
                        aria-label="See all plans">
                    See all plans
                </button>
            </footer>
        </div>
    </div>

    <!-- Subscription Plans Modal -->
    <div id="plansModal" class="fixed inset-0 z-50 hidden flex items-center justify-center" style="display: none; background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(4px);">
        <div class="p-4 w-full max-w-md" onclick="closeModal()">
            <div class="bg-white rounded-2xl shadow-2xl w-full" onclick="event.stopPropagation()">
                <!-- Modal Handle -->
                <div class="flex justify-center pt-4 pb-2">
                    <div class="w-12 h-1 bg-gray-300 rounded-full"></div>
                </div>
                
                <!-- Header -->
                <div class="px-6 pb-6">
                    <h2 class="text-2xl font-bold text-gray-900">Choose a plan</h2>
                </div>

                <!-- Plan Options -->
                <div class="px-6 pb-6">
                    <div class="space-y-4">
                        <!-- 1 Month Plan -->
                        <button id="monthlyPlan" onclick="selectPlan('monthly')" 
                                class="w-full p-6 border-2 border-gray-200 rounded-lg bg-gray-50 text-center hover:border-gray-300 transition-all">
                            <div class="text-xl font-bold text-gray-900 mb-2">1 month</div>
                            <div class="text-sm text-gray-700 mb-1">$19.99 per month</div>
                            <div class="text-xs text-gray-500">14 days free</div>
                        </button>

                        <!-- 12 Months Plan -->
                        <button id="yearlyPlan" onclick="selectPlan('yearly')" 
                                class="w-full p-6 border-2 border-gray-200 rounded-lg bg-gray-50 text-center hover:border-gray-300 transition-all">
                            <div class="text-xl font-bold text-gray-900 mb-2">12 months</div>
                            <div class="text-sm text-gray-700 mb-1">$129.99 per year</div>
                            <div class="text-xs text-gray-500">14 days free</div>
                        </button>
                    </div>
                </div>

                <!-- Footer Text -->
                <div class="px-6 pb-6">
                    <p class="text-sm text-gray-600">
                        Try 14 days for free, then $129.99/year. You can cancel anytime.
                    </p>
                </div>

                <!-- Call to Action -->
                <div class="px-6 pb-6">
                    <button id="subscribeBtn" onclick="handleSubscribe()" 
                            class="w-full bg-blue-600 text-white font-medium py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed">
                        Start trial and subscribe
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let selectedPlan = '';

        function goBack() {
            window.location.href = 'activation-key.html';
        }

        function startTrial() {
            window.location.href = 'registration-loading.html?t=' + Date.now();
        }

        function seeAllPlans() {
            console.log('showAllPlans called');
            const modal = document.getElementById('plansModal');
            modal.classList.remove('hidden');
            modal.style.display = 'flex';
        }

        function selectPlan(plan) {
            selectedPlan = plan;
            
            // Remove selected class from all plans
            document.getElementById('monthlyPlan').classList.remove('selected');
            document.getElementById('yearlyPlan').classList.remove('selected');
            
            // Add selected class to chosen plan
            if (plan === 'monthly') {
                document.getElementById('monthlyPlan').classList.add('selected');
            } else if (plan === 'yearly') {
                document.getElementById('yearlyPlan').classList.add('selected');
            }
            
            // Enable subscribe button
            document.getElementById('subscribeBtn').disabled = false;
        }

        function handleSubscribe() {
            if (!selectedPlan) return;
            
            // Store selected plan
            localStorage.setItem('selectedPlan', selectedPlan);
            
            // Show loading state
            const btn = document.getElementById('subscribeBtn');
            btn.textContent = 'Starting...';
            btn.disabled = true;
            
            // Close modal and navigate to registration loading
            setTimeout(() => {
                document.getElementById('plansModal').classList.add('hidden');
                document.getElementById('plansModal').style.display = 'none';
                window.location.href = 'registration-loading.html?t=' + Date.now();
            }, 1000);
        }

        function closeModal() {
            console.log('closeModal called');
            const modal = document.getElementById('plansModal');
            modal.classList.add('hidden');
            modal.style.display = 'none';
        }

        // Close modal when clicking outside
        document.getElementById('plansModal').onclick = function(event) {
            if (event.target === this) {
                closeModal();
            }
        };

        // Close modal with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });
    </script>
</body>
</html>
