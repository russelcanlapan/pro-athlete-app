    <script>
        let userData = {
            profile: {
                firstName: '',
                lastName: '',
                email: '',
                password: '',
                userType: 'athlete'
            },
            onboarding: {
                birthday: '',
                height: '',
                weight: '',
                sport: '',
                teamType: '',
                position: ''
            }
        };

        // Initialize user data from session storage or use defaults
        function initializeUserData() {
            const savedData = sessionStorage.getItem('athleteUserData');
            if (savedData) {
                const existingData = JSON.parse(savedData);
                userData = { ...userData, ...existingData };
            }
        }

        // Save user data to session storage
        function saveUserData() {
            sessionStorage.setItem('athleteUserData', JSON.stringify(userData));
        }

        // Update onboarding data
        function updateOnboardingData(field, value) {
            userData.onboarding[field] = value;
            saveUserData();
        }

        function selectTeamType(teamType) {
            // Remove active class from all team type cards
            document.querySelectorAll('.team-type-card').forEach(card => {
                card.classList.remove('active');
            });

            // Add active class to selected team type card
            event.currentTarget.classList.add('active');

            // Save team type selection
            updateOnboardingData('teamType', teamType);
        }

        function nextStep() {
            if (!userData.onboarding.teamType) {
                showError('Please select a team type.');
                return;
            }

            // Navigate to next step
            window.location.href = 'position.html';
        }

        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
            setTimeout(() => {
                errorDiv.style.display = 'none';
            }, 3000);
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                nextStep();
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeUserData();
            
            // Highlight previously selected team type if available
            if (userData.onboarding.teamType) {
                const teamTypeCards = document.querySelectorAll('.team-type-card');
                teamTypeCards.forEach(card => {
                    if (card.getAttribute('onclick').includes(userData.onboarding.teamType)) {
                        card.classList.add('active');
                    }
                });
            }
        });
    </script>
